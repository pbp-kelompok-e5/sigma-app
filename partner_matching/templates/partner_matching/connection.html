{% extends 'base.html' %}
{% load static %}

{% block title %}
    {% if is_own_connections %}My Connections{% else %}{{ target_user.username }}'s Friends{% endif %} - Sigma App
{% endblock %}

{% block content %}

<div>
    <h1>
        {% if is_own_profile %}
                My Connections
        {% else %}
            {{ target_user.get_full_name }}'s Friends
        {% endif %}
    </h1>

    <p>
        {% if is_own_profile %}
            Manage your friends and connection requests
        {% else %}
            @{{ target_user.username }}
        {% endif %}
    </p>
</div>

{% if is_own_connections %}
<div>
    <div class="tab-buttons">
        <button class="tab-button active" data-tab="friends">My Friends</button>
        <button class="tab-button" data-tab="received">Requests Received</button>
        <button class="tab-button" data-tab="sent">Sent Requests</button>
    </div>
</div>
{% endif %}

<div class="search-section">
    <input type="text" id="search-input" placeholder="{% if is_own_connections %}Search connections... {% else %}Search friends..." />
    <button class="search-button">Search</button>
</div>

{% if is_own_connections %}
    <div id="friends-tab" class="tab-content active">
        {% include 'partner_matching/partials/friends_list.html' with friends_list=friends_list %}
    </div>
    <div id="received-tab" class="tab-content">
        {% include 'partner_matching/partials/received_requests.html' with received_requests=received_requests %}
    </div>
    <div id="sent-tab" class="tab-content">
        {% include 'partner_matching/partials/sent_requests.html' with sent_requests=sent_requests %}
    </div>
{% else %}
    <div id="friends-tab" class="tab-content active">
        {% include 'partner_matching/partials/friends_list.html' with friends_list=friends_list %}
    </div>
{% endif %}

{% endblock %}