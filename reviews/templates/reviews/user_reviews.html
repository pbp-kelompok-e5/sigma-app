{% extends 'base.html' %}
{% load static %}
{% block title %}User Reviews - Sigma App{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/global.css' %}">

<div class="container mx-auto" style="max-width: 1000px; padding: 40px 16px;">
  <div class="card-deep-sea">
    <div class="card-header">
      Reviews for: {{ reviewed_user.username }}
    </div>

    <div class="card-body">

      {% if reviews %}
      <!-- ✅ GRID 3 COLUMNS -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">

        {% for review in reviews %}
        <div style="background: var(--deep-sea-light); border-radius: 12px; padding: 16px;">
          <!-- Reviewer -->
          <p><strong>{{ review.from_user.username }}</strong></p>

          <!-- Rating -->
          <p style="color: var(--orange-sport); font-weight: 600;">
            {{ review.rating }} ⭐
          </p>

          <!-- Event -->
          <p style="font-size: .9rem; opacity: .9;">
            Event: <span style="font-weight: 600;">{{ review.event.title }}</span>
          </p>

          <!-- Comment -->
          <p><em>{{ review.comment }}</em></p>

          <!-- Date -->
          <p style="font-size: 0.75rem; opacity: 0.7; margin-top: 6px;">
            {{ review.created_at }}
          </p>
        </div>
        {% endfor %}

      </div>

      {% else %}
      <p style="opacity: 0.7; font-style: italic;">No reviews yet for this user.</p>
      {% endif %}

    </div>
  </div>
</div>
{% endblock %}
